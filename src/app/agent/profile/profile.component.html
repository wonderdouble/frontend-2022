<app-navbar></app-navbar>
<div class="container" style="margin:0; padding:20px; margin-top:0px;">

    <a routerLink="/properties">Properties</a> |  <a routerLink="/profile">Profile</a><br>
</div>

<!-- <div class="container-fluid panel_bg_about" style="margin:0; padding:0; margin-top:0px;">

    <div class="container">
        <div class="row align-items-center banner-row">
            <div class="col-md-6">
                <h1 class="page-title-head">ABOUT<br> Magenta Imperial</h1>
                <p class="page-title-body">
                    ...helping both private and public sectors maximise their productivity</p>
            </div>
            <div class="col-md-6 text-right mobile-hide">
                
            </div>
        </div>
    </div>
</div> -->

<div *ngIf="!isLoaded; else placeholder_profile">

    <div class="container head-room-60 ">
        <div>
            <h2 class="animated fadeIn delay-1s" style="text-align: center;">Wonder Double Global Investment is a registered Real Estate and Construction company with keen interest in helping individuals, corporate bodies and even Government agencies at different level initiate and complete their real estate related projects, visions and dreams. </h2>
        </div>
        
    </div>
    
    <div class="container-fluid" style=" margin:0; padding:0; margin-top:0px; ">
        <div class="container" style="padding-top:30px;">
            <div class="title-div" style="margin-bottom:30px;">
                <h2 style="color:#222;">Update Profile</h2>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="contentpanel" style="width:100%;">
                        <div style="padding:30px;">
                            
    
                            <div class="form-group">
                                <label><strong>Upload Picture  <span class="required">*</span></strong></label>
                                <input type="file" class="form-control-file" id="exampleFormControlFile1" (change)="uploadImage($event)">
                            </div>
                            <div class="progress" [hidden]="!uploadPercent">
                                <div class="progress-bar" role="progressbar" [style.width]="(uploadPercent | async) + '%'"  aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{ uploadPercent | async }}%</div>
                            </div>

                            <div class="form-group">
                                <button type="submit" [disabled]="form.invalid || (uploadPercent | async) !== 100" class="btn btn-lg btn-success btn-block subtn" style="padding:12px;">SUBMIT</button>
                               
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-lg btn-block subtn" style="padding:12px; background:#f58634; color:white;" (click)="onUpload()">Update</button>
                            </div>

                
                            <form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)" style="margin-top:40px;">
                                <input type="hidden" name="id" #id="ngModel" [(ngModel)] = "repRegisterService.formData.id">
                
                                <div class="form-group">
                                    <label><strong>Fullname <span class="required">*</span></strong></label>
                                    <input name="fullname" #fullname="ngModel" [(ngModel)] = "repRegisterService.formData.fullname" class="form-control"  required/>
                                   
                                    <div *ngIf="fullname.invalid && fullname.touched" class="validation-error">This field is required.</div>
                                </div>
                
                                <div class="form-group">
                                    <label><strong>Email <span class="required">*</span></strong></label>
                                    <input name="email" #email="ngModel" [(ngModel)] = "repRegisterService.formData.email"  class="form-control" required/>
                                   
                                    <div *ngIf="email.invalid && email.touched" class="validation-error">This field is required.</div>
                                </div>
                
                                <div class="form-group">
                                    <label><strong>Phone <span class="required">*</span></strong></label>
                                    <input name="phone" #phone="ngModel" [(ngModel)] = "repRegisterService.formData.phone" class="form-control" required/>
                                   
                                    <div *ngIf="phone.invalid && phone.touched" class="validation-error">This field is required.</div>
                                </div>
                
                                <div class="form-group">
                                    <label><strong>Occupation <span class="required">*</span></strong></label>
                                    <select name="occupation" #occupation="ngModel" class="browser-default custom-select" [(ngModel)] = "repRegisterService.formData.occupation" required>
                                        <option selected>Select Category</option>
                                        <option value="Student">Student</option>
                                        <option value="Stay-at-Home Mom">Stay-at-Home Mom</option>
                                        <option value="Retiree">Retiree</option>
                                        <option value="Casual Worker">Casual Worker</option>
                                        <option value="Professional">Professional</option>
                                    </select>
                                </div>
                
                                <div class="form-group">
                                    <label><strong>Address <span class="required">*</span></strong></label>
                                    <textarea name="address" #address="ngModel" [(ngModel)] = "repRegisterService.formData.address" class="form-control" placeholder="Address" required></textarea>
                                    <div *ngIf="address.invalid && address.touched" class="validation-error">This field is required.</div>
                                </div>
                
                                <div class="form-group">
                                    <button type="submit" [disabled]="form.invalid" class="btn btn-lg btn-success btn-block subtn" style="padding:12px;">UPDATE</button>
                                   
                                </div>
                            </form> 

                            <div style="margin-top:30px;">
                            
                                <div class="form-group">
                                    <label><strong>Password <span class="required">*</span></strong></label>
                                    <input type="password" name="password" #password class="form-control" required/>
                                   
                                    <div *ngIf="password.invalid && password.touched" class="validation-error">This field is required.</div>
                                </div>

                                <div class="form-group">
                                    <label><strong>Confirm Password <span class="required">*</span></strong></label>
                                    <input type="cpassword" name="cpassword" #cpassword class="form-control" required/>
                                   
                                    <div *ngIf="cpassword.invalid && cpassword.touched" class="validation-error">This field is required.</div>
                                </div>
                
                                <div class="form-group">
                                    <button type="submit" [disabled]="password.value === null || cpassword.value === null" class="btn btn-lg btn-success btn-block subtn" style="padding:12px;" (click)="reset(password.value, cpassword.value)">UPDATE</button>
                                </div>
                                
                            </div>
                    
                        </div>


                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
</div>
<ng-template #placeholder_profile>
    <div class="item" style="margin-bottom:300px;">
        <ngx-skeleton-loader count="5"></ngx-skeleton-loader>
    </div>
</ng-template>




